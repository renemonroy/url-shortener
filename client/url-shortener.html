<head>
  <title>url-shortener</title>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>
</head>

<body>
  {{> top}}
  {{> content}}
</body>

<template name="top">
  <div class="top">
    <a href="/" class="top-logo no-style">
      URL Shortener
    </a>
    <div class="top-login login-close-text">
      {{loginButtons align="right"}}
    </div>
  </div>
</template>

<template name="content">
  <div class="content">
    {{> field}}

    {{#if currentUser}}
      {{> list}}
    {{/if}}

  </div>
</template>

<template name="field">
  <div class="main-field">
    <span class="field-error-msg"><i class="icon-exclamation-sign"></i> This isn't a URL. Please try another one.</span>
    <input type="text" placeholder="Paste the URL to be shortened">
    <a id="giveme" href="#" class="btn no-style">Give me!</a>
  </div>
  <div class="short-url-box">
    <i class="icon-caret-up"></i>
    <div class="short-url-loader">
      <img src="../images/loader.gif">
    </div>
    <textarea class="short-url" readonly="true"></textarea>
  </div>
</template>

<template name="list">
  <div class="url-list">
    <table>
      <thead>
        <tr>
          <th class="th-original-url">Original URL</th>
          <th class="th-short-url">Short URL</th>
          <th class="th-date-url">Date</th>
        </tr>
      </thead>
      <tbody>
        {{# each urls}}
          <tr>
            <td><a href="{{originalUrl}}">{{truncate originalUrl 40}}</a></td>
            <td><a href="{{absoluteUrl}}{{shortUrl}}">{{absoluteUrl}}{{shortUrl}}</a></td>
            <td>{{toDate date}}</td>
          </tr>
        {{/each}}

      </tbody>
    </table>
  </div>
</template>

<template name="redirect">
  REDIRECT...
</template>

